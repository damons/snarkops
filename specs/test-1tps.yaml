---
version: storage.snarkos.testing.monadic.us/v1

id: base
name: base-ledger

generate:
  path: ./tests/base

---
version: nodes.snarkos.testing.monadic.us/v1

name: 4-validators

nodes:
  validator/:
    replicas: 4
    key: committee.$
    height: 0
    validators: validator/*
    peers: []

---
version: cannon.snarkos.testing.monadic.us/v1

name: committee-tx-public
source:
  file-name: txs.json
sink:
  target: validator/*
  tx-delay-ms: 750

---
version: timeline.snarkos.testing.monadic.us/v1

name: tx-local

timeline:
  - cannon.await:
      - name: committee-tx-public
        count: 20
  - duration: 10s

---
version: outcomes.snarkos.testing.monadic.us/v1

name: 0.1-tps-outcome

metrics:
  network/tps:
    query: avg(rate(snarkos_blocks_transactions_total[10s]))
    min: 0.1
